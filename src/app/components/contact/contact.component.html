<div class="container"
     fxLayout="column"
     fxLayoutGap="10px">
  <div fxFlex>
    <div>
      <h1>Contact Us</h1>
      <hr />
    </div>
  </div>

  <div fxFlex>
    <div fxLayout="column"
         fxLayout.gt-sm="row"
         fxLayoutGap="2rem">
      <div fxFlex="50"
           fxFlexOffset="1rem"
           fxLayoutGap="1rem"
           fxLayout="column">
        <h3>Location Information</h3>
        <h4>Our Address</h4>
        <div>
          <address>
            121, Clear Water Bay Road<br />
            Clear Water Bay, Kowloon<br />
            HONG KONG<br />
            <i class="fa fa-phone"></i>: +852 1234 5678<br />
            <i class="fa fa-fax"></i>: +852 8765 4321<br />
            <i class="fa fa-envelope"></i>:
            <a href="mailto:confusion@food.net">confusion@food.net</a>
          </address>
          <p></p>
        </div>
        <div fxLayoutGap="1rem">
          <a mat-raised-button
             href="tel:+85212345678"><i class="fa fa-phone"></i> Call</a>
          <a mat-raised-button><i class="fa fa-skype"></i> Skype</a>
          <a mat-raised-button
             href="mailto:confusion@food.net"><i class="fa fa-envelope-o"></i> Email</a>
        </div>
      </div>
      <div fxFlex="40">
        <h4>Map of our Location</h4>
      </div>
    </div>
  </div>

  <div *ngIf="!errMess && !submitting && !feedback"
       fxFlex
       fxFlexOffset="20px"
       class="form-size"
       [@expand]>
    <H3>Send us your Feedback</H3>

    <form novalidate
          [formGroup]="feedbackForm"
          #fform="ngForm"
          (ngSubmit)="onSubmit()">
      <p>
        <mat-form-field class="half-width">
          <input matInput
                 formControlName="firstname"
                 placeholder="First Name"
                 type="text" />
          <mat-error *ngIf="formErrors.firstname"> {{formErrors.firstname}}</mat-error>
        </mat-form-field>

        <mat-form-field class="half-width"
                        fxFlexOffset="50px">
          <input matInput
                 formControlName="lastname"
                 placeholder="Last Name"
                 type="text" />
          <mat-error *ngIf="formErrors.lastname"> {{formErrors.lastname}}</mat-error>
        </mat-form-field>
      </p>
      <p>
        <mat-form-field class="half-width">
          <input matInput
                 formControlName="telnum"
                 placeholder="Tel Number"
                 pattern="[0-9]*"
                 type="tel" />
          <mat-error *ngIf="formErrors.telnum"> {{formErrors.telnum}}</mat-error>
        </mat-form-field>

        <mat-form-field class="half-width"
                        fxFlexOffset="50px">
          <input matInput
                 formControlName="email"
                 placeholder="Email"
                 email
                 type="email" />
          <mat-error *ngIf="formErrors.email"> {{formErrors.email}}</mat-error>
        </mat-form-field>
      </p>

      <table class="form-size">
        <td>
          <mat-slide-toggle formControlName="agree">May we contact you?</mat-slide-toggle>
        </td>
        <td>
          <mat-select placeholder="How?"
                      formControlName="contacttype">
            <mat-option *ngFor="let ctype of contactType"
                        [value]="ctype">
              {{ ctype }}
            </mat-option>
          </mat-select>
        </td>
      </table>
      <p>
        <mat-form-field class="full-width">
          <textarea matInput
                    formControlName="message"
                    placeholder="Your Feedback"
                    rows="12"></textarea>
        </mat-form-field>
      </p>
      <button [disabled]="feedbackForm.invalid"
              type="submit"
              mat-button
              class="background-primary text-floral-white">
        Submit
      </button>
    </form>
  </div>

  <div *ngIf="!errMess && !submitting && feedback"
       [@expand]>
    <h2>The submitted feedback is:</h2>
    <br>
    <p> First Name: {{ feedback.firstname }} </p>
    <br>
    <p> Last Name: {{ feedback.lastname }}</p>
    <br>
    <p> Email: {{ feedback.email }} </p>
    <br>
    <p> Tel. Number: {{ feedback.telnum}}</p>
    <br>
    <p> Agreed? : {{ feedback.agree}}</p>
    <br>
    <p> Contact type: {{ feedback.contacttype }} </p>
    <br>
    <p> Message: {{ feedback.message}}</p>
    <br>
  </div>

  <div *ngIf="!errMess && submitting && !feedback"
       fxFlex>
    <mat-spinner></mat-spinner>
    <h4>Your feedback is sent .... please wait!</h4>
  </div>

  <div fxFlex
       *ngIf="errMess">
    <h2>Error</h2>
    <p>{{errMess}}</p>
  </div>
</div>